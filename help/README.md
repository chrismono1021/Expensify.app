# Welcome to the New Help site

The content of the Expensify Help is mainly composed of HTML and Markdown files (also referred as `.md` files in the documentation). We use [Jekyll](https://jekyllrb.com/) to generate a static site from those HTML and Markdown files.

## HTML and Markdown basics

We use the [heading markdown tags](https://www.markdownguide.org/cheat-sheet/) to create hierarchy in the article content (you can open this file in raw format and you will notice the `#` characters).

In both HTML and Markdown files we use the [comment block](https://www.w3schools.com/html/html_comments.asp) to leave a note to the person who is editing the file. The content of the comment won't be rendered in the site.

i.e.
```
<!-- This is a comment and won't be displayed in the page -->
```

# Test locally

## Pre-requisites

- Pull the [App repo](https://github.com/Expensify/App) in your computer.
    - You can do it from from a Terminal command line by running `git clone https://github.com/Expensify/App.git`
- Install jekyll in your computer by running `gem install bundler jekyll` in the command line.

## Steps

1. Open the Terminal command line in macOS.
2. Navigate to the `help` folder in the command line.
3. Run `jekyll serve`.
4. Open localhost:4000 in the browser to see the site running locally.
5. Modify a `.html` or `.md` file and refresh the page in the browser.

# How the project is structured

The [help](https://github.com/Expensify/App/tree/e6cea38ef22f83ae4730a34a9281d8962388dff8/help) folder will contain the following main folders:
- *_layouts*: it will have at the moment only one file ([default.html](https://github.com/Expensify/App/blob/e6cea38ef22f83ae4730a34a9281d8962388dff8/help/_layouts/default.html)) which will render the common HTML elements and the assets on every page.
- *_includes*: it will contain HTML content that can be reused on different pages. It will have the files home-navigation-tree.html, request-money-navigation-tree.html and  send-money-navigation-tree.html that will be rendered in the LHN.
- *assets*: it will contain the three sub-folders css, images, and js.
  - The css folder can contain either .css or .sass files (where SASS files will be processed by Jekyll and it will generate a CSS file in an output folder also generated by Jekyll).
  -  In order to organize the image files, we're going to have multiple sub-folders grouped by subject in the images folder.
- *send-money*: it will contain an index.html file with the content of the hub and will have a folder for each stage. Each sub-folder stage will contain all the articles related to that stage or subsection.
- *request-money*: same as send-money folder.
- *_site*: this will be the output folder that will contain the generated HTML files. This is the default name by Jekyll but can be changed.
index.html: it will have the homepage content.

More details about the Jekyll project structure can be found [here](https://jekyllrb.com/docs/structure/).
# How to add a new Article

## Add content

Copy the [template](https://github.com/Expensify/App/blob/e6cea38ef22f83ae4730a34a9281d8962388dff8/help/TEMPLATE.md) file and rename it with the name of the article title, i.e. [SmartScan.md](https://github.com/Expensify/App/blob/e6cea38ef22f83ae4730a34a9281d8962388dff8/help/articles/request-money/request-money/SmartScan.md) (you can use dashes for spaces in the file name if it's needed) and put the new file inside of the respective hub folder ([send-money](https://github.com/Expensify/App/tree/e6cea38ef22f83ae4730a34a9281d8962388dff8/help/articles/send-money) or [request-money](https://github.com/Expensify/App/tree/e6cea38ef22f83ae4730a34a9281d8962388dff8/help/articles/request-money)) or sub-folder. The title will be rendered automatically according to the filename (the dashes will be removed in the generated site page).

The sections of the article will be filled and nested automatically in the LHN, just ensure to use the [heading markdown tags](https://www.markdownguide.org/cheat-sheet/) correctly.

## Add a new entry in the hub page

There are 3 main components in the hub page: 1. Stage title, 2. Row of Card buttons and 3. Card buttons.

```
<!-- 1. Stage title -->
<h2 id="request-money">
    Request Money
</h2>

<!-- 2. Row of Card buttons -->
<div class="cards-row">

    <!-- 3. Card buttons -->

    <div class="card" onclick="openArticle('./request-money/SmartScan')">
        <div class="body">
            <div class="title">SmartScan</div>
        </div>
        <div class="right-icon">
            <i class="fa-solid fa-angle-right caret-icon"></i>
        </div>
    </div>

    <div class="card" onclick="openArticle('./request-money/AnotherArticle')">
        <div class="body">
            <div class="title">Another Article</div>
        </div>
        <div class="right-icon">
            <i class="fa-solid fa-angle-right caret-icon"></i>
        </div>
    </div>

    <!-- More Card buttons here... -->

</div>
```
### Add a Stage title (optional)

In order to add a new stage title in the hub page just copy and paste the following HTML block in the respective hub page ([send-money/index.html](https://github.com/Expensify/App/blob/e6cea38ef22f83ae4730a34a9281d8962388dff8/help/articles/send-money/index.html) or [request-money/index.html](https://github.com/Expensify/App/blob/e6cea38ef22f83ae4730a34a9281d8962388dff8/help/articles/request-money/index.html)) and modify the values accordingly:

```
<h2 id="request-money">
    Request Money
</h2>
```

Where `id` is an arbitrary value that will help us to anchor this title to the LHN element.

### Add a Row of Card buttons (optional)

If it's required, you can add a new row of Card buttons with the following HTML block:

```
<div class="cards-row">
    <!-- Add Cards components here -->
</div>
```

### Add a Card button

A card button is the box that contains the article title and the caret right icon `>`. It navigates to the article when it's pressed.

In order to add a new Card button in the respective hub page ([send-money/index.html](https://github.com/Expensify/App/blob/e6cea38ef22f83ae4730a34a9281d8962388dff8/help/articles/send-money/index.html) or [request-money/index.html](https://github.com/Expensify/App/blob/e6cea38ef22f83ae4730a34a9281d8962388dff8/help/articles/request-money/index.html)) just copy and pase the following Card element:

```
<div class="card" onclick="openArticle('./request-money/SmartScan')">
    <div class="body">
        <div class="title">SmartScan</div>
    </div>
    <div class="right-icon">
        <i class="fa-solid fa-angle-right caret-icon"></i>
    </div>
</div>
```

Then replace the article title accordingly (in this case replace the value `SmartScan` with the new article title) and add a link to the relative path of the article (in this case replace `./request-money/SmartScan` accordingly to the path of the new article file without the file extension).

## Add a new entry in the LHN page

There are 2 main components in the LHN page:
  1. Stage title anchor: which navigates the State title in the hub page and contains inside the Article links.
  2. Article links: which navigate to the corresponding article page.

```
<!-- 1.Stage title anchor -->
<li><a href="#request-money">Request Money</a>

    <!-- 2. Article links -->
    <ul>
        <li><a href="./request-money/SmartScan">SmartScan</a></li>
    </ul>

    <ul>
        <li><a href="./request-money/AnotherArticle">Another Article</a></li>
    </ul>

    <!-- More Article links here... -->
</li>

<!-- More Stage title anchors here... -->
```

### Add a new Stage title anchor (optional)

Just add copy and paste the following HTML block in the corresponding navigation tree file (either for [Request Money](https://github.com/Expensify/App/blob/e6cea38ef22f83ae4730a34a9281d8962388dff8/help/_includes/request-money-navigation-tree.html) or [Send Money](https://github.com/Expensify/App/blob/e6cea38ef22f83ae4730a34a9281d8962388dff8/help/_includes/send-money-navigation-tree.html)):

```
<li><a href="#request-money">Request Money</a>
    <!-- Article links will be here -->
</li>
```

Where `"#request-money"` is the ID of Stage title in the hub page (the same as in the example of the `Add a Stage title (optional)` section).

### Add a new Article link

Add the next HTML block inside of the corresponding Stage title anchor:

```
<ul>
    <li><a href="./request-money/SmartScan">SmartScan</a></li>
</ul>
```

Where `./request-money/SmartScan` will be the relative path of the file name (exactly the same as in the `Add a Card button` example above).
